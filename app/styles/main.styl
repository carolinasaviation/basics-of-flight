@import nib
@import url('../bower_components/league-gothic/webfonts/stylesheet.css')
@import url('../bower_components/normalize-css/normalize.css')

YELLOW = #feec09
RED = #f0402a
ACTION_RED = #ed1c24
BLUE = #23a8e0
BLACK = #202020
FONT_FAMILY = 'League Gothic', Impact, serif

/* general {{{ */
*
	box-sizing border-box

img
	max-width 100%

html
	background BLACK
	width 100%
	height 100%
	overflow hidden

body
	background #202020
	font-family "Helvetica Neue", Helvetica, Arial, sans-serif
	color #333
	//width 100%
	height 100%
	margin-left 13em

.fakepad
	position: absolute
	top: 50%
	left: 50%
	margin-left: -512px
	margin-top: -384px
	height: 768px
	width: 1024px

.col
	display inline-block
	vertical-align top
	padding-bottom 1.333em

.btn
	display inline-block
	&:focus
		outline 0

.hardware-hack
	// http://blog.alexmaccaw.com/css-transitions
	font-smoothing antialiased
	transform translate3d(0,0,0);

/* general }}} */
// {{{ nav
.nav>ul
	absolute top bottom
	left 0
	width 5.25em
	z-index 11
	margin 0
	padding 0
	list-style none

.nav-item-container
	height 33.333%
	position relative
	perspective 500px

.nav-item
	color #464646
	display block
	height 100%
	position relative
	overflow hidden
	text-decoration none
	&:after
		transition width ease 0.5s
		absolute top bottom
		background YELLOW
		right 0
		width 2px
		content ' '
		z-index 0

.nav-item-active
	color #131313
	&:after
		width 100%

.nav-image
	display block
	margin 0 auto
	//max-height 6em
	max-width 96%
	line-height 100%
	position relative
	z-index 2

.nav-text
	absolute left 50% top 50%
	z-index 2
	margin-left -5em
	margin-top -0.5em
	width 10em
	transform-origin 50% 50%
	transform rotate(-90deg)

	font-size 4em
	font-weight bold
	display block
	text-align center
	text-transform uppercase
	font-family FONT_FAMILY
	font-weight 400

// nav }}}
// {{{ subnav
.subnav
	absolute top bottom
	left 5.25em
	width 7.75em
	z-index 10
	list-style none
	margin 0
	padding 0

	background BLACK
	transform rotateY(45deg)
	transform-origin 0 50%
	transition all 0.4s ease

.subnav-item-container
	position relative

.subnav-item
	color #404040
	display block
	font-weight bold
	letter-spacing 1px
	padding: 0.41666em 0.875em
	text-decoration none
	text-transform uppercase
	&:after
		content ' '
		absolute top bottom
		left 0
		width 0%
		background YELLOW
		transition width ease 0.5s
		z-index -1

// TODO add more classes via javascript and clean up these selectors
.nav-item-active + .subnav
	transform rotateY(0)
	.subnav-item
		color #f0f0f0

.subnav-item-active
	color #131313 !important
	&:after
		width 100%

// subnav }}}
// {{{ cards

h1
	color YELLOW
	font-family FONT_FAMILY
	font-size 3em
	font-weight 400
	letter-spacing 1px
	margin 0
	text-transform uppercase

.page
	height 100%
	padding 0 0 200px
	position relative

.card
	background BLACK
	border-top: 3px solid YELLOW
	color #fff
	absolute left right
	bottom 0
	height 200px

	h1
		margin-top 0

.card-content
	height 100%
	overflow-y scroll
	-webkit-overflow-scrolling touch
	padding 0.5em
	// width 70%
	width 82%


	&:before,
	&:after
		absolute left 0
		width 50%
		display block
		content ' '
		height 0

	&:before
		top 0
		box-shadow 0 2px 8px 1px #000

	&:after
		bottom 0
		box-shadow 0 -2px 8px 1px #000

.card-last
	width 12%

.card-content,
.card-tabs,
.card-last,
.column
	display: inline-block
	vertical-align: top

.column-golden-large
	width 62%
.column-golden-small
	width 38%

.card-figure
	float left
	width 25%
	margin-right 2.5%

.card-content
	absolute top 0 left 8%
	transform translateX(-100%) translateZ(0)
	transition transform 500ms cubic-bezier(0.380, -0.530, 0.595, 1.330)
.card-content--active
	transform translateX(0%) translateZ(0)
.card-content--inactive
	transform translateX(-100%) translateZ(0)


.card-stage
	absolute left right
	bottom 0
	// this has to be a hack
	perspective 300000
	perspective-origin 50% 50%
	z-index 10
	height 200px

.card-rotator
	position relative
	height 100%
	width 100%
	transform-origin 50% 50%
	transform rotateX(0deg)
	transition all 0.5s ease
	transform-style preserve-3d

.card
	transform rotateX(0deg) translate3d(0, 0, 100px);
	transition border-top 0.25s ease
	overflow hidden

// cards }}}
// {{{ sections

.card-tabs
	height 100%
	width 10%
	background BLACK
	// margin-left 78%
	margin-left 90%
	position relative
.card-tabs .btn
	height 50%

.card-last,
.card-last .btn
	height 100%

.btn
	background-color transparent
	border-radius 0
	border 0

.btn-go-back
	absolute bottom right
	color ACTION_RED
	text-transform uppercase

.btn--quiz
	background BLACK
	height 100%
	width 8%
	padding-top 1em
	position absolute
	z-index 2
	svg
		height 100%
	div
		absolute top bottom
		left 0
		right 0

.btn--tab
	border-right 4px solid transparent
	width 100%
	.icon
		max-width 95%
		max-height 100%
	/* Experiment to test memory usage
		*
			animation actionPulse 3s infinite
			animation-timing-function cubic-bezier(0.250, 0.100, 0.250, 1.000)
	*/
.btn--is-active
	border-right-color YELLOW
	//color YELLOW
	.icon
		*
			animation none
			stroke YELLOW

.btn--tab[data-action="show-science"] svg *
	animation-delay 0s
.btn--tab[data-action="show-history"] svg *
	animation-delay 1s

.btn--image
	background-image url(../images/throwaway-play-film.jpg)
	background-size cover
	color ACTION_RED
	font-size 1.5em
	font-weight bold
	text-transform uppercase

// sections }}}
// {{{ quiz

.col__quiz-equation
	text-align center
	width 20%
.col__quiz-question
	width 80%
.col__quiz-question--active
	padding 0 1em
	//display block
	opacity 1

.col__quiz-question--inactive
	display none

.quiz__correct
	margin 0 auto
	width 50%

.quiz__correct-title
	font-size 1em
	font-weight normal
	text-transform uppercase

.quiz__correct-count
	display block
	font-size 2em
	text-align left

.quiz__correct-total
	display block
	font-size 2em
	text-align right

.quiz__answer-list
	list-style none
	padding 0
	li
		border-top 1px solid #777
		&:first-child
			border-top 0

	label
		display block
		padding 0.666em
		transition all 0.1666s ease-out

	input[type="radio"]
		display none

	input[type="radio"]:checked + label
		background YELLOW
		color BLACK

.quiz__submit
	absolute top 200% right 0
	background RED
	border 0
	color BLACK
	font-weight bold
	font-size 1.1666em
	line-height 2.23333
	padding 0 0.666em

.col__quiz-result--success,
.col__quiz-result--error
	absolute left 12.5% right 12.5%
	top 0
	height 0
	border-radius 0 0 0.333em 0.333em
	color #eee
	line-height 3em
	padding 0 1.333em
	overflow hidden
	opacity 0
	transition all 0.416666s ease-in

.col__quiz-result--success
	background BLUE

.col__quiz-result--error
	background ACTION_RED

.col__quiz-result--isActive
	height 3em
	opacity 1


label[for]
	cursor pointer

// quiz }}}
// {{{ Forces

#weightInteraction,
#dragInteraction
	height 100%
	width 100%

.cessna
	absolute top 3% left 8%
	z-index 1
	svg
		position relative
		z-index 1
	g
		stroke BLUE
	.arrow
		background ACTION_RED
		position relative
		display inline-block
		height 6em
		width 0.875em
		&:after
			absolute bottom -1em left -0.91666em
			border-left 1.4em solid transparent
			border-right 1.4em solid transparent
			border-top 1.4em solid ACTION_RED
			content ''

.forces-arrows
	.arrow
		animation-timing-function ease
		animation-duration 0.666s
		animation-iteration-count infinite
		animation-direction alternate
		animation-name forcesArrow
	.arrow-n,
	.arrow-s,
	.arrow-w,
	.arrow-e
		position absolute
		height 0
		width 0
		&:before
			color YELLOW
			font-family FONT_FAMILY
			font-size 2em
			text-transform uppercase
			display block

	.arrow-n
		left 44%
		top 38%
		transform rotate(180deg) skewY(-20deg)
		&:before
			content 'Lift'
			transform rotate(-90deg) translate(-3em, -0.5em)
	.arrow-s
		left 40%
		top 57%
		transform skewY(-20deg)
		&:before
			content 'Weight'
			transform rotate(-90deg) translate(-3.25em, -0.5em)
	.arrow-w
		bottom 41.5%
		left 17%
		transform rotate(65deg) skewY(20deg)
		&:before
			content 'Thrust'
			transform rotate(-90deg) translate(-3.25em, -0.5em)
	.arrow-e
		top 26%
		left 71%
		transform rotate(-115deg) skewY(20deg)
		&:before
			content 'Drag'
			transform rotate(90deg) translate(1.5em, -1em)

@keyframes forcesArrow
	from
		transform translateY(0em)
		opacity 0.2
	to
		transform  translateY(1em)
		opacity 1

// Forces }}}
// {{{ Controls

.ailerons-animation,
.rudder-animation,
.elevators-animation
	margin-left 17.5%
	max-height 500px

// Controls }}}
// {{{ animations

@keyframes actionPulse
	20%
		stroke #202020
		color #202020
	50%
		stroke ACTION_RED
		color ACTION_RED
	80%
		stroke #202020
		color #202020

// animations }}}
// {{{ range and data table

input[type="range"]
	//-webkit-appearance none
	-moz-appearance none
	appearance none
	height 24px
	background RED
	border-radius 0 12px 0 0
	absolute left bottom
	right 300px
	z-index 5

input[type="range"]::-webkit-slider-thumb
	appearance none
	width 24px
	height 24px
	border-radius 100%
	border 4px solid darken(RED, 40%)
	background darken(RED, 60%)

.interactive
	absolute left right
	top 0
	bottom 200px

.display
	absolute left right
	bottom 200px
	z-index 5
	> *
		display inline-block
		vertical-align bottom
	h1
		color BLACK
		background YELLOW
		font-family FONT_FAMILY
		font-size 2.375em
		line-height 1.333
		padding 0.111111em 0 0.055555em
		text-align center
		width 15%
	.granger
		position relative
		height 3.5em
		width 55%

	table
		background BLACK
		display inline-block
		width 30%
	tr:last-child
		th,td
			border-top 1px solid RED
		td
			font-size 1.333em
			color YELLOW
			height 2.62em
			padding 0.41666em

table
	th
		color #aaa
		text-align left
		padding 0.6666em
		text-transform uppercase
	th,td
		border-top 1px solid #aaa
	td
		color #fff
		padding 0.666em
		width 100%

// }}}
// {{{ modal

.modal
	absolute bottom right
	background BLACK
	opacity 0
	height 3em
	width 3em
	transition all 1s ease
	z-index 20

	iframe
		position relative
		z-index 10

.modal--active
	opacity 1
	bottom 50%
	right 50%
	width 900px
	height 600px
	margin-right -450px
	margin-bottom -300px

	.modal-backdrop
		display block

.modal-backdrop
	fixed top bottom
	left 0
	right 0
	display none
	background rgba(0, 0, 0, 0.8)
	content ' '

// modal }}}
// {{{ screensaver

.ss
	fixed top bottom
	left 0
	right 0
	background BLACK
	z-index 99
	transition all 0.5s ease-in

.ss--is-active
	opacity 1

.ss--is-inactive
	opacity 0

.ss-image
	absolute left 10% right 10%
	top -5%
	width 80%
	opacity 0.2
	animation comeSailAway 6s cubic-bezier(1.000, 0.000, 1.000, 0.000) infinite
	animation-delay 0s
	&:nth-child(1)
		animation-delay 3s

@keyframes comeSailAway
	0%
		transform translateX(110%)
	50%
		opacity 1
		transform translateX(0%)
	100%
		transform translateX(-110%)

.ss-animation
	absolute left 30% right 30%
	bottom 9em
	width 40%

.ss-title
	fixed left right
	bottom 1em
	font-size 4em
	font-family FONT_FAMILY
	animation 5s actionPulse linear infinite
	text-align center
	text-transform uppercase

// screensaver }}}

.granger
	absolute left bottom
	right 300px
	z-index 5
	background RED
	height 3.5em

.granger-pointer
	position absolute
	background BLUE
	border 0.35em solid BLACK
	box-shadow 0 0 0.2em 0.2em BLUE, 0 0 0.2em 0.2em BLACK
	width 3em
	height 3em
	margin-top 0.25em
	margin-left -1.5em
	border-radius 100%

